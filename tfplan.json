{"format_version":"1.2","terraform_version":"1.11.2","variables":{"allow_trafic":{"value":{"grafana":{"cidr":"0.0.0.0/0","from":3000,"to":3000},"http":{"cidr":"0.0.0.0/0","from":80,"to":80},"https":{"cidr":"0.0.0.0/0","from":443,"to":443},"ssh":{"cidr":"176.1.205.248/32","from":22,"to":22}}},"resource_name":{"value":"mate-aws-grafana-lab"},"subnet_cidr":{"value":"10.0.1.0/24"},"subnet_name":{"value":"grafana"},"vpc_id":{"value":"vpc-0026c589fa1509fe4"}},"planned_values":{"outputs":{"security_group_id":{"sensitive":false},"subnet_id":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_route_table.example","mode":"managed","type":"aws_route_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"aws_route_table_association.subnet","mode":"managed","type":"aws_route_table_association","name":"subnet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"aws_security_group.sg","mode":"managed","type":"aws_security_group","name":"sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","revoke_rules_on_delete":false,"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"aws_subnet.main","mode":"managed","type":"aws_subnet","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"grafana"},"tags_all":{"Name":"grafana"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_vpc_security_group_egress_rule.allow_all_eggress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"allow_all_eggress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"grafana\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"grafana","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":3000,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":3000},"sensitive_values":{"tags_all":{}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"http\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"https\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"ssh\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"176.1.205.248/32","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"sensitive_values":{"tags_all":{}}}]}},"resource_changes":[{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_route_table.example","mode":"managed","type":"aws_route_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_route_table_association.subnet","mode":"managed","type":"aws_route_table_association","name":"subnet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_security_group.sg","mode":"managed","type":"aws_security_group","name":"sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","revoke_rules_on_delete":false,"tags":{"Name":"mate-aws-grafana-lab"},"tags_all":{"Name":"mate-aws-grafana-lab"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"aws_subnet.main","mode":"managed","type":"aws_subnet","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"grafana"},"tags_all":{"Name":"grafana"},"timeouts":null,"vpc_id":"vpc-0026c589fa1509fe4"},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc_security_group_egress_rule.allow_all_eggress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"allow_all_eggress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"grafana\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"grafana","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":3000,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":3000},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"http\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"https\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_vpc_security_group_ingress_rule.trafic[\"ssh\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","index":"ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"176.1.205.248/32","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}}],"output_changes":{"security_group_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"subnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0"}},"root_module":{"outputs":{"security_group_id":{"expression":{"references":["aws_security_group.sg.id","aws_security_group.sg"]},"description":"ID of the security group, deployed by the module"},"subnet_id":{"expression":{"references":["aws_subnet.main.id","aws_subnet.main"]},"description":"ID of the VPC subnet, deployed by the module"}},"resources":[{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"tags":{"references":["var.resource_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0},{"address":"aws_route_table.example","mode":"managed","type":"aws_route_table","name":"example","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.gw.id","aws_internet_gateway.gw"]},"tags":{"references":["var.resource_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0},{"address":"aws_route_table_association.subnet","mode":"managed","type":"aws_route_table_association","name":"subnet","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.example.id","aws_route_table.example"]},"subnet_id":{"references":["aws_subnet.main.id","aws_subnet.main"]}},"schema_version":0},{"address":"aws_security_group.sg","mode":"managed","type":"aws_security_group","name":"sg","provider_config_key":"aws","expressions":{"tags":{"references":["var.resource_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_subnet.main","mode":"managed","type":"aws_subnet","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.subnet_cidr"]},"tags":{"references":["var.subnet_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_vpc_security_group_egress_rule.allow_all_eggress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"allow_all_eggress","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"ip_protocol":{"constant_value":-1},"security_group_id":{"references":["aws_security_group.sg.id","aws_security_group.sg"]}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.trafic","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"trafic","provider_config_key":"aws","expressions":{"cidr_ipv4":{"references":["each.value.cidr","each.value"]},"from_port":{"references":["each.value.from","each.value"]},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.sg.id","aws_security_group.sg"]},"to_port":{"references":["each.value.to","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.allow_trafic"]}}],"variables":{"allow_trafic":{"description":"A map of allowed traffic rules with port ranges and CIDR blocks."},"resource_name":{"description":"The name of the AWS resources used in this configuration."},"subnet_cidr":{"description":"The CIDR block assigned to the subnet."},"subnet_name":{"description":"The name assigned to the subnet."},"vpc_id":{"description":"ID of the VPC, you deployed in the previous task."}}}},"relevant_attributes":[{"resource":"aws_internet_gateway.gw","attribute":["id"]},{"resource":"aws_security_group.sg","attribute":["id"]},{"resource":"aws_route_table.example","attribute":["id"]},{"resource":"aws_subnet.main","attribute":["id"]}],"timestamp":"2025-03-23T18:49:46Z","applyable":true,"complete":true,"errored":false}
